{
    "componentChunkName": "component---src-components-mdx-page-component-layout-tsx",
    "path": "/entry/2020/stepping_motor/",
    "result": {"data":{"mdx":{"id":"2fc1e085-9c4b-55aa-81a3-8ec49b66123f","slug":"2020/stepping_motor/","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"ロータリエンコーダ付きステッピングモータをArduinoで制御して角度を取得する\",\n  \"og_description\": \"ロータリエンコーダ付きステッピングモータをArduinoで制御して角度を取得する\",\n  \"date\": \"2020-10-06 07:00:00\",\n  \"updated\": \"2021-05-14 01:50:00\",\n  \"draft\": false,\n  \"category\": \"Arduino\",\n  \"tags\": [\"ステッピングモータ\", \"ロータリエンコーダ\", \"Arduino\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"ロータリエンコーダ付きステッピングモータをarduinoで制御して角度を取得する\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#%E3%83%AD%E3%83%BC%E3%82%BF%E3%83%AA%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%80%E4%BB%98%E3%81%8D%E3%82%B9%E3%83%86%E3%83%83%E3%83%94%E3%83%B3%E3%82%B0%E3%83%A2%E3%83%BC%E3%82%BF%E3%82%92arduino%E3%81%A7%E5%88%B6%E5%BE%A1%E3%81%97%E3%81%A6%E8%A7%92%E5%BA%A6%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\",\n    \"aria-label\": \"ロータリエンコーダ付きステッピングモータをarduinoで制御して角度を取得する permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u4ED8\\u304D\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\\u3092Arduino\\u3067\\u5236\\u5FA1\\u3057\\u3066\\u89D2\\u5EA6\\u3092\\u53D6\\u5F97\\u3059\\u308B\"), mdx(\"h2\", {\n    \"id\": \"機材\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#%E6%A9%9F%E6%9D%90\",\n    \"aria-label\": \"機材 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u6A5F\\u6750\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Arduino UNO\\uFF08\\u4E2D\\u83EF\\uFF09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u4ED8\\u304D\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"PKP214U06A-R2EL\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.orientalmotor.co.jp/products/detail.action?hinmei=PKP214U06A-R2EL-L\"\n  }, \"PKP214U06A-R2EL-L\\uFF5CPKP\\u30B7\\u30EA\\u30FC\\u30BA\\uFF0FPK\\u30B7\\u30EA\\u30FC\\u30BA\\uFF5C\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\\u30FC\\uFF5C\\u30AA\\u30EA\\u30A8\\u30F3\\u30BF\\u30EB\\u30E2\\u30FC\\u30BF\\u30FC\\u682A\\u5F0F\\u4F1A\\u793E\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30E2\\u30FC\\u30BF\\u90E8\\u8AAC\\u660E\\u66F8\\uFF08PDF\\u3001HM-7433J.pdf\\uFF09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u90E8\\u8AAC\\u660E\\u66F8\\uFF08PDF\\u3001HM-7439JE.pdf\\uFF09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.orientalmotor.co.jp/file_addon/products/st/image/tj_pkp214u06a-r2el-l_d.gif\"\n  }, \"\\u7279\\u6027\\u56F3\\uFF08\\u753B\\u50CF\\uFF09\"), \"\\uFF08DC24V\\u99C6\\u52D5\\u6642\\uFF09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30E2\\u30FC\\u30BF\\u90E8\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"2\\u76F8\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30E6\\u30CB\\u30DD\\u30FC\\u30E95\\u672C\\u30EA\\u30FC\\u30C9\\u7DDA\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u57FA\\u672C\\u30B9\\u30C6\\u30C3\\u30D7\\u89D2\\u5EA61.8\\xB0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"AC 50/60Hz 0.5kV \\u7D76\\u7E01\\u8010\\u5727\\uFF081\\u5206\\u9593\\uFF09\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u90E8\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5206\\u89E3\\u80FD 200 \\u30D1\\u30EB\\u30B9/\\u56DE\\u8EE2\\uFF08pulse/revolution\\uFF09\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A\\u76F8\\u3001B\\u76F8\\u3001Z\\u76F8\\uFF1A3\\u30C1\\u30E3\\u30F3\\u30CD\\u30EB\\u51FA\\u529B\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"DC5V\\u99C6\\u52D5\"))))))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30E2\\u30FC\\u30BF\\u30C9\\u30E9\\u30A4\\u30D0\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"SLA7078MPRT\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.semicon.sanken-ele.co.jp/ctrl/product/category/2Ph_StepMotorUnp/detail/?product=SLA7078MPRT\"\n  }, \"SLA7078MPRT \\uFF5C\\u30B5\\u30F3\\u30B1\\u30F3\\u96FB\\u6C17\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://akizukidenshi.com/catalog/g/gI-08015/\"\n  }, \"\\uFF12\\u76F8\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\\u30FC\\u30C9\\u30E9\\u30A4\\u30D0\\u30FC\\u3000\\u30E6\\u30CB\\u30DD\\u30FC\\u30E9\\u99C6\\u52D5\\u7528\\u3000\\uFF33\\uFF2C\\uFF21\\uFF17\\uFF10\\uFF17\\uFF18\\uFF2D\\uFF30\\uFF32\\uFF34: \\u534A\\u5C0E\\u4F53 \\u79CB\\u6708\\u96FB\\u5B50\\u901A\\u5546-\\u96FB\\u5B50\\u90E8\\u54C1\\u30FB\\u30CD\\u30C3\\u30C8\\u901A\\u8CA9\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.semicon.sanken-ele.co.jp/sk_content/sla7073mprt_ds_jp.pdf\"\n  }, \"\\u30C7\\u30FC\\u30BF\\u30B7\\u30FC\\u30C8\\uFF08PDF\\u3001sla7073mprt_ds_jp.pdf\\uFF09\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u03BC\\u30B9\\u30C6\\u30C3\\u30D7\\u5BFE\\u5FDC\\u54C1\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u5B9F\\u4F7F\\u7528\\u96FB\\u5727 10-44V\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30E2\\u30FC\\u30BF\\u30C9\\u30E9\\u30A4\\u30D0\\u57FA\\u677F\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"SEC20120330A\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://sec-suzuki.com/newpage333.htm\"\n  }, \"\\u30A8\\u30EC\\u30FB\\u30E1\\u30AB\\u30FB\\u30DB\\u30D3\\u30FC\\u30B7\\u30E7\\u30C3\\u30D7\\uFF33\\uFF25\\uFF23 \\u8CC7\\u6599\\u7F6E\\u304D\\u5834\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://sec-suzuki.com/step-2p-v1.pdf\"\n  }, \"\\u65B0\\u578B \\uFF12\\u76F8\\u30B9\\u30C6\\u30C3\\u30D7\\u30C9\\u30E9\\u30A4\\u30D0\\u8CC7\\u6599\\uFF08PDF\\u3001step-2p-v1.pdf\\uFF09\"))))))), mdx(\"h2\", {\n    \"id\": \"ステッピングモータの制御\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#%E3%82%B9%E3%83%86%E3%83%83%E3%83%94%E3%83%B3%E3%82%B0%E3%83%A2%E3%83%BC%E3%82%BF%E3%81%AE%E5%88%B6%E5%BE%A1\",\n    \"aria-label\": \"ステッピングモータの制御 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\\u306E\\u5236\\u5FA1\"), mdx(\"h3\", {\n    \"id\": \"配線\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E9%85%8D%E7%B7%9A\",\n    \"aria-label\": \"配線 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u914D\\u7DDA\"), mdx(\"p\", null, \"\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\\u672C\\u4F53\\u304B\\u3089\\u306F\\u3001\\u5DE6\\u304B\\u3089\\u9ED2\\u30FB\\u7DD1\\u30FB\\u6A59\\u30FB\\u9752\\u30FB\\u8D64\\u306E5\\u672C\\u306E\\u30B1\\u30FC\\u30D6\\u30EB\\u304C\\u51FA\\u3066\\u3044\\u308B\\u3002\\n\\u3053\\u308C\\u306F\\u8AAC\\u660E\\u66F8\\u3092\\u898B\\u308B\\u3068\\n\\u9ED2\\u30FB\\u7DD1\\u304CA\\u76F8\\uFF08A\\u30FB\", mdx(\"span\", {\n    style: {\n      \"textDecoration\": \"overline\"\n    }\n  }, \"A\"), \"\\uFF09\\u3001\\n\\u9752\\u30FB\\u8D64\\u304CB\\u76F8\\uFF08B\\u30FB\", mdx(\"span\", {\n    style: {\n      \"textDecoration\": \"overline\"\n    }\n  }, \"B\"), \"\\uFF09\\u3001\\n\\u6A59\\u304C\\u96FB\\u6E90\\u306B\\u306A\\u3063\\u3066\\u3044\\u308B\\u3002\\n\\u30E2\\u30FC\\u30BF\\u30C9\\u30E9\\u30A4\\u30D0\\u57FA\\u677F\\u306E\\u5BFE\\u5FDC\\u3059\\u308B\\u7AEF\\u5B50\\u306B\\u3053\\u308C\\u3089\\u3092\\u63A5\\u7D9A\\u3059\\u308B\\u3002\"), mdx(\"p\", null, \"\\u30E2\\u30FC\\u30BF\\u96FB\\u6E90\\u3068\\u3057\\u306624V DC\\u96FB\\u6E90\\uFF08\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://akizukidenshi.com/catalog/g/gM-06962/\"\n  }, \"ATS065-P240\"), \"\\uFF09\\u3092\\u4F7F\\u7528\\u3057\\u305F\\u3002\"), mdx(\"h3\", {\n    \"id\": \"ドライバ設定\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E3%83%89%E3%83%A9%E3%82%A4%E3%83%90%E8%A8%AD%E5%AE%9A\",\n    \"aria-label\": \"ドライバ設定 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u30C9\\u30E9\\u30A4\\u30D0\\u8A2D\\u5B9A\"), mdx(\"p\", null, \"\\u03BC\\u30B9\\u30C6\\u30C3\\u30D7\\u6A5F\\u80FD\\uFF08\\u89D2\\u5EA6\\u3092\\u3088\\u308A\\u7D30\\u304B\\u304F\\u5236\\u5FA1\\u3067\\u304D\\u308B\\uFF09\\u3092\\u4F7F\\u3044\\u3001\\n\\u52B1\\u78C1\\u65B9\\u5F0F\\u3092W1-2\\u76F8\\u52B1\\u78C1\\uFF084\\u5206\\u5272\\uFF09\\u306B\\u3059\\u308B\\u305F\\u3081\\u3001\\u30C9\\u30E9\\u30A4\\u30D0\\u306EM3\\u7AEF\\u5B50\\u3092HIGH\\u306B\\u3059\\u308B\\u3002\\n\\u4ECA\\u56DE\\u4F7F\\u3063\\u305F\\u30C9\\u30E9\\u30A4\\u30D0\\u57FA\\u677F\\u3067\\u306FDIP\\u30B9\\u30A4\\u30C3\\u30C1\\u306E4\\u756A\\u3092ON\\u306B\\u3059\\u308B\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://www.pulsemotor.com/feature/steppingmotordrive3.html\"\n  }, \"\\u7B2C3\\u56DE \\u30C9\\u30E9\\u30A4\\u30D6IC\\u306E\\u5236\\u5FA1\\u65B9\\u5F0F\\u300C\\u52B1\\u78C1\\u65B9\\u5F0F\\u300D | \\u7279\\u96C6 | NPM \\u65E5\\u672C\\u30D1\\u30EB\\u30B9\\u30E2\\u30FC\\u30BF\\u30FC\\u682A\\u5F0F\\u4F1A\\u793E\"))), mdx(\"p\", null, \"\\u30C9\\u30E9\\u30A4\\u30D0\\u57FA\\u677F\\u4E0A\\u306E\\u534A\\u56FA\\u5B9A\\u62B5\\u6297\\uFF08Ref\\u306B\\u63A5\\u7D9A\\uFF09\\u3092\\u4F7F\\u3063\\u3066\\u3001\\n\\u30AB\\u30EC\\u30F3\\u30C8\\u30C0\\u30A6\\u30F3\\uFF08\\u904E\\u71B1\\u9632\\u6B62\\u306E\\u305F\\u3081\\u306E\\u96FB\\u6D41\\u30AB\\u30C3\\u30C8\\u6A5F\\u80FD\\uFF09\\u6642\\u306E\\u96FB\\u6D41\\u3068\\n\\u901A\\u5E38\\u6642\\u306E\\u96FB\\u6D41\\u3092\\u3067\\u304D\\u308B\\u3060\\u3051\\u7D5E\\u308B\\uFF08\\u53CD\\u6642\\u8A08\\u56DE\\u308A\\u3067\\u7D5E\\u308C\\u308B\\uFF09\\u3002\\n\\u5B9F\\u969B\\u306B\\u56DE\\u3059\\u3068\\u304D\\u306F\\u3001\\u6C42\\u3081\\u3089\\u308C\\u308B\\u30C8\\u30EB\\u30AF\\u3068\\u767A\\u71B1\\u306E\\u30C8\\u30EC\\u30FC\\u30C9\\u30AA\\u30D5\\u3067\\u8ABF\\u7BC0\\u3059\\u308B\\u3068\\u601D\\u308F\\u308C\\u308B\\u3002\"), mdx(\"h3\", {\n    \"id\": \"制御コード\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E5%88%B6%E5%BE%A1%E3%82%B3%E3%83%BC%E3%83%89\",\n    \"aria-label\": \"制御コード permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u5236\\u5FA1\\u30B3\\u30FC\\u30C9\"), mdx(\"p\", null, \"\\u4EE5\\u4E0B\\u306E\\u3088\\u3046\\u306A\\u6A5F\\u80FD\\u3092\\u5B9F\\u73FE\\u3059\\u308B\\u7C21\\u5358\\u306A\\u5236\\u5FA1\\u30B3\\u30FC\\u30C9\\u3092\\u66F8\\u3044\\u305F\\u3002\\u8981\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/PaulStoffregen/TimerOne\"\n  }, \"TimerOne\"), \"\\u3002\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30D1\\u30EB\\u30B9\\u306E\\u958B\\u59CB\\u30FB\\u505C\\u6B62\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30D1\\u30EB\\u30B9\\u5E45\\u306E\\u5207\\u308A\\u66FF\\u3048\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u30AB\\u30EC\\u30F3\\u30C8\\u30C0\\u30A6\\u30F3\\u306E\\u5207\\u308A\\u66FF\\u3048\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\u56DE\\u8EE2\\u65B9\\u5411\\u306E\\u5207\\u308A\\u66FF\\u3048\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SteppingMotor.ino\"), \"\\u3068\\u3057\\u3066\\u65B0\\u898F\\u30BF\\u30D6\\u306B\\u8CBC\\u308A\\u4ED8\\u3051\\u308B\\u3002\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RPM_PER_PULSE_KHZ\"), \"\\u306F\\u7279\\u6027\\u56F3\\u3092\\u898B\\u308B\\u3068\\u3001\\u30D1\\u30EB\\u30B9\\u901F\\u5EA6 1 kHz\\u306E\\u3068\\u304D\\u56DE\\u8EE2\\u901F\\u5EA6 300 r/min\\u3068\\u3042\\u308B\\u306E\\u3067300\\u3092\\u4F7F\\u3046\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"// \\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF \\u5236\\u5FA1\\u30B3\\u30FC\\u30C9\\n\\n#include <TimerOne.h>\\n\\n// \\u30D4\\u30F3\\u306F\\u3069\\u3053\\u3067\\u3082OK\\n#define PIN_MTR_DIR 5\\n#define PIN_MTR_CK 6\\n#define PIN_MTR_CD 7\\n\\n// \\u7279\\u6027\\u56F3\\n// https://www.orientalmotor.co.jp/file_addon/products/st/image/tj_pkp214u06[].gif\\n#define RPM_PER_PULSE_KHZ 300\\n\\nbool pulseIsHigh = false;\\n\\nvoid initSteppingMotor() {\\n  pinMode(PIN_MTR_DIR, OUTPUT);\\n  pinMode(PIN_MTR_CK, OUTPUT);\\n  pinMode(PIN_MTR_CD, OUTPUT);\\n\\n  digitalWrite(PIN_MTR_DIR, LOW);\\n  digitalWrite(PIN_MTR_CK, LOW);\\n  digitalWrite(PIN_MTR_CD, HIGH);\\n\\n  Timer1.initialize(1000*1000);\\n}\\n\\nvoid stopPulse() {\\n  Timer1.detachInterrupt();\\n}\\nvoid startPulse() {\\n  Timer1.attachInterrupt(switchPulse);\\n}\\nvoid switchPulse() {\\n  pulseIsHigh = !pulseIsHigh;\\n  digitalWrite(PIN_MTR_CK, pulseIsHigh ? HIGH : LOW);\\n}\\n\\nvoid setPulseLengthMillis(float pulseMillis) {\\n  int pulseMicros = pulseMillis * 1000;\\n  if (pulseMicros < 1) pulseMicros = 1;\\n  Timer1.setPeriod(pulseMicros);\\n}\\nvoid setPulseLengthByKHz(float khz) {\\n  float pulseMillis = 1.0 / khz;\\n  setPulseLengthMillis(pulseMillis);\\n}\\nvoid setPulseLengthByRPM(float rpm) {\\n  float pulseKHz = rpm / RPM_PER_PULSE_KHZ;\\n  setPulseLengthByKHz(pulseKHz);\\n}\\n\\nvoid disableCurrentDown() {\\n  digitalWrite(PIN_MTR_CD, LOW);\\n}\\nvoid enableCurrentDown() {\\n  digitalWrite(PIN_MTR_CD, HIGH);\\n}\\n\\nvoid setCW() {\\n  digitalWrite(PIN_MTR_DIR, LOW);\\n}\\nvoid setCCW() {\\n  digitalWrite(PIN_MTR_DIR, HIGH);\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"実行コード\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E5%AE%9F%E8%A1%8C%E3%82%B3%E3%83%BC%E3%83%89\",\n    \"aria-label\": \"実行コード permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u5B9F\\u884C\\u30B3\\u30FC\\u30C9\"), mdx(\"p\", null, \"\\u4EE5\\u4E0B\\u306E\\u3088\\u3046\\u306B\\u30C6\\u30B9\\u30C8\\u7528\\u306E\\u5B9F\\u884C\\u30B3\\u30FC\\u30C9\\u3092\\u4F5C\\u3063\\u305F\\u3002\\n30rpm\\u3001300rpm\\u30011000rpm\\u3001300rpm\\u300130rpm\\u3001\\u505C\\u6B62\\u3001\\u306E\\u3088\\u3046\\u306B\\u56DE\\u8EE2\\u3057\\u3001\\u4E00\\u5DE1\\u3059\\u308B\\u3054\\u3068\\u306B\\u56DE\\u8EE2\\u65B9\\u5411\\u3092\\u53CD\\u8EE2\\u3059\\u308B\\uFF08\\u3042\\u307E\\u308A\\u6025\\u6FC0\\u306B\\u5909\\u5316\\u3055\\u305B\\u308B\\u3068\\u8131\\u8ABF\\u3057\\u3066\\u3057\\u307E\\u3044\\u56DE\\u3089\\u306A\\u3044\\uFF09\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"// \\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF \\u5B9F\\u884C\\u30B3\\u30FC\\u30C9\\n\\nint prevPhase = -1;\\nbool isClockwise = true;\\n\\nvoid setup() {\\n  Serial.begin(115200);\\n\\n  initSteppingMotor();\\n}\\n\\nvoid loop() {\\n  long now = millis();\\n  int interval = 1000;\\n  int phase = (now / interval) % 6;\\n\\n\\n  if (phase != prevPhase) {\\n    Serial.print(\\\"[\\\");\\n    Serial.print(now);\\n    Serial.print(\\\"] \\\");\\n    if (isClockwise) Serial.print(\\\"(C) \\\");\\n    else             Serial.print(\\\"(A) \\\");\\n\\n    if (phase == 0) {\\n      Serial.println(\\\"stop\\\");\\n      stopPulse();\\n      enableCurrentDown();\\n    }\\n    else if (phase == 1) {\\n      Serial.println(\\\"30rpm\\\");\\n\\n      disableCurrentDown();\\n\\n      if (isClockwise) setCW();\\n      else             setCCW();\\n      isClockwise = !isClockwise;\\n\\n      setPulseLengthByRPM(30);\\n      startPulse();\\n    }\\n    else if (phase == 2) {\\n      Serial.println(\\\"300rpm\\\");\\n      setPulseLengthByRPM(300);\\n    }\\n    else if (phase == 3) {\\n      Serial.println(\\\"1000rpm\\\");\\n      setPulseLengthByRPM(1000);\\n    }\\n    else if (phase == 4) {\\n      Serial.println(\\\"300rpm\\\");\\n      setPulseLengthByRPM(300);\\n    }\\n    else if (phase == 5) {\\n      Serial.println(\\\"30rpm\\\");\\n      setPulseLengthByRPM(30);\\n    }\\n    else {\\n      Serial.println(\\\"nope\\\");\\n    }\\n  }\\n\\n  prevPhase = phase;\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"ロータリエンコーダによる角度取得\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#%E3%83%AD%E3%83%BC%E3%82%BF%E3%83%AA%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%80%E3%81%AB%E3%82%88%E3%82%8B%E8%A7%92%E5%BA%A6%E5%8F%96%E5%BE%97\",\n    \"aria-label\": \"ロータリエンコーダによる角度取得 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u306B\\u3088\\u308B\\u89D2\\u5EA6\\u53D6\\u5F97\"), mdx(\"h3\", {\n    \"id\": \"配線-1\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E9%85%8D%E7%B7%9A-1\",\n    \"aria-label\": \"配線 1 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u914D\\u7DDA\"), mdx(\"p\", null, \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u672C\\u4F53\\u304B\\u3089\\u306F\\u3001\\u5DE6\\u304B\\u3089\\u767D\\u30FB\\u6A59\\u30FB\\u9EC4\\u30FB\\u9752\\u30FB\\u7DD1\\u30FB\\u8336\\u30FB\\u8D64\\u30FB\\u9ED2\\u306E8\\u672C\\u306E\\u30B1\\u30FC\\u30D6\\u30EB\\u304C\\u51FA\\u3066\\u3044\\u308B\\u3002\\n\\u3053\\u308C\\u306F\\u8AAC\\u660E\\u66F8\\u3092\\u898B\\u308B\\u3068\\n\\u8D64\\u30FB\\u8336\\u304CA\\u76F8\\uFF08A+\\u30FBA-\\uFF09\\u3001\\n\\u7DD1\\u30FB\\u9752\\u304CB\\u76F8\\uFF08B+\\u30FBB-\\uFF09\\u3001\\n\\u9EC3\\u30FB\\u6A59\\u304CZ\\u76F8\\uFF08Z+\\u3001Z-\\uFF09\\u3001\\n\\u767D\\u304CVCC\\uFF085V\\uFF09\\u3001\\n\\u9ED2\\u304CGND\\u306B\\u306A\\u3063\\u3066\\u3044\\u308B\\u3002\\n+-\\u306F\\u305D\\u308C\\u305E\\u308C\\u51FA\\u529B\\u304C\\u53CD\\u8EE2\\u3057\\u3066\\u3044\\u308B\\u3060\\u3051\\u306A\\u306E\\u3067\\u3001\\n\\u5404\\u76F81\\u672C\\u3060\\u3051\\u3092\\u63A5\\u7D9A\\u3059\\u308C\\u3070\\u3044\\u3044\\u3002\\nZ+\\u306F\\u8EF8\\u304C\\u4E00\\u5468\\u3059\\u308B\\u30BF\\u30A4\\u30DF\\u30F3\\u30B0\\u3067\\u6B63\\u306B\\u306A\\u308B\\u7AEF\\u5B50\\u3067\\u3001\\u8AA4\\u5DEE\\u4FEE\\u6B63\\u306B\\u4F7F\\u3046\\u3002\\n\\u3088\\u3063\\u3066\\u3001\\u8D64\\u30FB\\u7DD1\\u30FB\\u9EC3\\u30FB\\u767D\\u30FB\\u9ED2\\u306E5\\u672C\\u3092\\u63A5\\u7D9A\\u3059\\u308B\\u3002\"), mdx(\"p\", null, \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u306E\\u8AAD\\u307F\\u53D6\\u308A\\u306B\\u306F\\u5272\\u308A\\u8FBC\\u307F\\u3092\\u4F7F\\u3046\\u306E\\u3067\\u3001\\nA+\\u3001B+\\u306F2\\u756A\\u30013\\u756A\\u30D4\\u30F3\\u306B\\u63A5\\u7D9A\\u3059\\u308B\\u3002\\nZ+\\u306F4\\u756A\\u30D4\\u30F3\\uFF08\\u3053\\u308C\\u306F\\u3069\\u3053\\u3067\\u3082OK\\uFF09\\u306B\\u63A5\\u7D9A\\u3059\\u308B\\u3053\\u3068\\u306B\\u3059\\u308B\\u3002\\nVCC\\u3068GND\\u306FArduino\\u306E5V\\u3001GND\\u306B\\u63A5\\u7D9A\\u3059\\u308C\\u3070\\u3044\\u3044\\u3002\"), mdx(\"h3\", {\n    \"id\": \"計算コード\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E8%A8%88%E7%AE%97%E3%82%B3%E3%83%BC%E3%83%89\",\n    \"aria-label\": \"計算コード permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u8A08\\u7B97\\u30B3\\u30FC\\u30C9\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://jumbleat.com/2016/12/17/encoder_1/\"\n  }, \"\\u30ED\\u30FC\\u30BF\\u30EA\\u30FC\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u3092\\u4F7F\\u3046 part 1 : \\u5916\\u90E8\\u5272\\u8FBC\\u307F\\u3068\\u30C1\\u30E3\\u30BF\\u30EA\\u30F3\\u30B0\\u5BFE\\u7B56 \\u2013 jumbleat\"))), mdx(\"p\", null, \"\\u3053\\u306E\\u8A18\\u4E8B\\u3092\\u53C2\\u8003\\u306B\\u3057\\u3066\\u3001\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\\u306E\\u89D2\\u5EA6\\u8A08\\u7B97\\u3092\\u3059\\u308B\\u30B3\\u30FC\\u30C9\\u3092\\u66F8\\u3044\\u305F\\u3002\\nA\\u76F8B\\u76F8\\u306E\\u30D1\\u30BF\\u30FC\\u30F3\\u306B\\u57FA\\u3065\\u304F\\u8A08\\u7B97\\u306F\\u305D\\u306E\\u307E\\u307E\\u3067\\u3001\\u4E0D\\u8981\\u306A\\u90E8\\u5206\\u306E\\u9664\\u53BB\\u3068Z\\u76F8\\u306B\\u3088\\u308B\\u30EA\\u30BB\\u30C3\\u30C8\\u3001\\u30AA\\u30FC\\u30D0\\u30FC\\u30D5\\u30ED\\u30FC\\u9632\\u6B62\\u306E\\u305F\\u3081\\u30AB\\u30A6\\u30F3\\u30C8\\u8D85\\u904E\\u6642\\u306E\\u30EA\\u30BB\\u30C3\\u30C8\\u3092\\u8FFD\\u52A0\\u3057\\u305F\\u3002\\n\\u306A\\u304APPR\\u306F200\\u306A\\u306E\\u3067\\u30011.8\\xB0\\u306E\\u5206\\u89E3\\u80FD\\u306B\\u306A\\u308B\\u3002\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RotaryEncoder.ino\"), \"\\u3068\\u3057\\u3066\\u65B0\\u898F\\u30BF\\u30D6\\u306B\\u8CBC\\u308A\\u4ED8\\u3051\\u308B\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"// \\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0 \\u8A08\\u7B97\\u30B3\\u30FC\\u30C9\\n\\n#define PPR 200 // p/r, pulse per revolution\\n\\n#define PIN_RTE_A 2\\n#define PIN_RTE_B 3\\n#define PIN_RTE_Z 4\\n\\n#define NONE 0\\n#define CW 1\\n#define CCW 2\\n\\nvolatile char direction = NONE; // NONE, CW, CCW\\nvolatile int steps = 0;\\n\\nvolatile bool prevPinA = false;\\nvolatile bool prevPinB = false;\\nvolatile bool prevPinZ = false;\\n\\nvoid initRotaryEncoder() {\\n  pinMode(PIN_RTE_A, INPUT_PULLUP);\\n  pinMode(PIN_RTE_B, INPUT_PULLUP);\\n  pinMode(PIN_RTE_Z, INPUT_PULLUP);\\n\\n  attachInterrupt(0, onRotaryEncoderPulse, CHANGE); // pin2\\n  attachInterrupt(1, onRotaryEncoderPulse, CHANGE); // pin3\\n}\\n\\nint getRotaryEncoderStep() {\\n  return steps;\\n}\\nfloat getRotaryEncoderAngleRate() {\\n  return (float)steps / PPR;\\n}\\nfloat getRotaryEncoderAngleDegrees() {\\n  return getRotaryEncoderAngleRate() * 360.0f;\\n}\\nfloat getRotaryEncoderAngleRadians() {\\n  return getRotaryEncoderAngleRate() * 2 * PI;\\n}\\n\\nvoid onRotaryEncoderPulse() {\\n  bool pinZ = digitalRead(PIN_RTE_Z);\\n  if (pinZ && prevPinZ) steps = 0;\\n\\n  bool pinA = !digitalRead(PIN_RTE_A);\\n  bool pinB = !digitalRead(PIN_RTE_B);\\n\\n  if (pinA != prevPinA || pinB != prevPinB) {\\n    if (direction == NONE) {\\n      if (pinA) direction = CW;\\n      if (pinB) direction = CCW;\\n    }\\n    else {\\n      if (!pinA && !pinB) {\\n        if      (direction == CW  && prevPinB) steps++;\\n        else if (direction == CCW && prevPinA) steps--;\\n\\n        if (steps < 0)    steps += PPR;\\n        if (PPR <= steps) steps -= PPR;\\n\\n        direction = NONE;\\n      }\\n    }\\n  }\\n\\n  prevPinA = pinA;\\n  prevPinB = pinB;\\n  prevPinZ = pinZ;\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"実行コード-1\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E5%AE%9F%E8%A1%8C%E3%82%B3%E3%83%BC%E3%83%89-1\",\n    \"aria-label\": \"実行コード 1 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u5B9F\\u884C\\u30B3\\u30FC\\u30C9\"), mdx(\"p\", null, \"\\u4EE5\\u4E0B\\u306E\\u3088\\u3046\\u306B\\u30C6\\u30B9\\u30C8\\u7528\\u306E\\u5B9F\\u884C\\u30B3\\u30FC\\u30C9\\u3092\\u4F5C\\u3063\\u305F\\u3002\\n\\u611F\\u96FB\\u306B\\u6CE8\\u610F\\u3057\\u3064\\u3064\\u3001\\u624B\\u3067\\u8EF8\\u3092\\u56DE\\u3057\\u3066\\u89D2\\u5EA6\\u304C\\u5909\\u5316\\u3059\\u308B\\u3053\\u3068\\u3092\\u78BA\\u8A8D\\u3059\\u308B\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"// \\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0 \\u5B9F\\u884C\\u30B3\\u30FC\\u30C9\\n\\nvoid setup() {\\n  Serial.begin(115200);\\n\\n  initRotaryEncoder();\\n}\\n\\nvoid loop() {\\n  Serial.println(getRotaryEncoderAngleDegrees());\\n  delay(10);\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"ステッピングモータロータリエンコーダ\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#%E3%82%B9%E3%83%86%E3%83%83%E3%83%94%E3%83%B3%E3%82%B0%E3%83%A2%E3%83%BC%E3%82%BF%E3%83%AD%E3%83%BC%E3%82%BF%E3%83%AA%E3%82%A8%E3%83%B3%E3%82%B3%E3%83%BC%E3%83%80\",\n    \"aria-label\": \"ステッピングモータロータリエンコーダ permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF+\\u30ED\\u30FC\\u30BF\\u30EA\\u30A8\\u30F3\\u30B3\\u30FC\\u30C0\"), mdx(\"h3\", {\n    \"id\": \"シリアル通信で送られてきたjsonをパースする\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E3%82%B7%E3%83%AA%E3%82%A2%E3%83%AB%E9%80%9A%E4%BF%A1%E3%81%A7%E9%80%81%E3%82%89%E3%82%8C%E3%81%A6%E3%81%8D%E3%81%9Fjson%E3%82%92%E3%83%91%E3%83%BC%E3%82%B9%E3%81%99%E3%82%8B\",\n    \"aria-label\": \"シリアル通信で送られてきたjsonをパースする permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u30B7\\u30EA\\u30A2\\u30EB\\u901A\\u4FE1\\u3067\\u9001\\u3089\\u308C\\u3066\\u304D\\u305FJSON\\u3092\\u30D1\\u30FC\\u30B9\\u3059\\u308B\"), mdx(\"p\", null, \"\\u30B7\\u30EA\\u30A2\\u30EB\\u901A\\u4FE1\\u3067\\u6539\\u884C\\u6587\\u5B57\\u3067\\u533A\\u5207\\u3089\\u308C\\u305FJSON\\u3092\\u3084\\u308A\\u53D6\\u308A\\u3059\\u308B\\u305F\\u3081\\u3001\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SerialJsonLineReader.ino\"), \"\\u3092\\u4F5C\\u3063\\u305F\\u3002\\u8981\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/bblanchon/ArduinoJson\"\n  }, \"ArduinoJson\"), \"\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"// Requirements:\\n// #include <ArduinoJson.h>\\n\\nString serialBuffer = \\\"\\\";\\n\\nbool nextSerialLine(String *serialLine) {\\n  *serialLine = \\\"\\\";\\n\\n  while (Serial.available() > 0) {\\n    int ch = Serial.read();\\n    if (ch != -1) {\\n      if (ch == '\\\\n') {\\n        *serialLine = serialBuffer;\\n        serialBuffer = \\\"\\\";\\n        return true;\\n      }\\n\\n      serialBuffer += (char) ch;\\n    }\\n  }\\n\\n  return false;\\n}\\n\\nbool nextSerialJson(JsonDocument *serialJson, bool *jsonError) {\\n  String serialLine = \\\"\\\";\\n\\n  *jsonError = false;\\n  serialJson->clear();\\n\\n  if (nextSerialLine(&serialLine)) {\\n    DeserializationError error;\\n    error = deserializeJson(*serialJson, serialLine);\\n\\n    if (error == DeserializationError::Ok) {\\n      return true;\\n    }\\n\\n    *jsonError = true;\\n    serialJson->clear();\\n  }\\n\\n  return false;\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"シリアル通信からステッピングモータ制御角度取得\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#%E3%82%B7%E3%83%AA%E3%82%A2%E3%83%AB%E9%80%9A%E4%BF%A1%E3%81%8B%E3%82%89%E3%82%B9%E3%83%86%E3%83%83%E3%83%94%E3%83%B3%E3%82%B0%E3%83%A2%E3%83%BC%E3%82%BF%E5%88%B6%E5%BE%A1%E8%A7%92%E5%BA%A6%E5%8F%96%E5%BE%97\",\n    \"aria-label\": \"シリアル通信からステッピングモータ制御角度取得 permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"\\u30B7\\u30EA\\u30A2\\u30EB\\u901A\\u4FE1\\u304B\\u3089\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\\u5236\\u5FA1+\\u89D2\\u5EA6\\u53D6\\u5F97\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\\"rpm\\\": 300}\\n\")), mdx(\"p\", null, \"\\u3053\\u306E\\u3088\\u3046\\u306AJSON\\u3092\\u30B7\\u30EA\\u30A2\\u30EB\\u901A\\u4FE1\\u3067Arduino\\u306B\\u9001\\u308B\\u3053\\u3068\\u3067\\u3001\\n\\u30B9\\u30C6\\u30C3\\u30D4\\u30F3\\u30B0\\u30E2\\u30FC\\u30BF\\u304C\\u56DE\\u8EE2\\u3059\\u308B\\u3088\\u3046\\u306B\\u3057\\u3001\\n\\u307E\\u305F\\u9010\\u6B21\\u56DE\\u8EE2\\u89D2\\u5EA6\\u3092\\u30B7\\u30EA\\u30A2\\u30EB\\u901A\\u4FE1\\u3067\\u9001\\u308B\\u5B9F\\u884C\\u30B3\\u30FC\\u30C9\\u3092\\u4F5C\\u3063\\u305F\\u3002\\n\\u8981\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SteppingMotor.ino\"), \"\\u3001\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RotaryEncoder.ino\"), \"\\u3001\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SerialJsonLineReader.ino\"), \"\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-c\"\n  }, \"#include <ArduinoJson.h>\\n\\n#define MIN_RPM 30\\n#define MAX_RPM 3000\\nfloat rpm = 0;\\n\\nvoid setup() {\\n  Serial.begin(115200);\\n\\n  initRotaryEncoder();\\n  initSteppingMotor();\\n}\\n\\nvoid loop() {\\n  float angleDegrees = getRotaryEncoderAngleDegrees();\\n\\n  if (rpm < MIN_RPM) {\\n    rpm = 0;\\n    stopPulse();\\n    enableCurrentDown();\\n  }\\n  else {\\n    setPulseLengthByRPM(rpm);\\n    startPulse();\\n  }\\n\\n  StaticJsonDocument<255> msg;\\n  msg[\\\"angle\\\"] = angleDegrees;\\n  msg[\\\"rpm\\\"] = rpm;\\n\\n  serializeJson(msg, Serial); Serial.println();\\n\\n// serialEvent is now deprecated and not working on some Arduino devices (e.g. Arduino Nano Every).\\n// https://github.com/arduino/ArduinoCore-avr/issues/206#issuecomment-532133626\\n// https://forum.arduino.cc/t/nano-every-serialevent-does-not-get-called/690025\\n//\\n// }\\n//\\n// void serialEvent() {\\n//   StaticJsonDocument<255> msg;\\n  bool jsonError = false;\\n\\n  if (nextSerialJson(&msg, &jsonError)) {\\n    float _rpm = msg[\\\"rpm\\\"];\\n    if (_rpm < MIN_RPM) _rpm = 0; // current down\\n    if (MAX_RPM < _rpm) _rpm = MAX_RPM;\\n\\n    rpm = _rpm;\\n  }\\n  else if (jsonError) {\\n    // StaticJsonDocument<255> response;\\n    // serializeJson(response, Serial); Serial.println();\\n  }\\n}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"ロータリエンコーダ付きステッピングモータをArduinoで制御して角度を取得する 機材 Arduino UNO（中華） ロータリエンコーダ付きステッピングモータ PKP214U06A-R2EL PKP214U06A-R2EL-L｜PKPシリーズ／PK…","tableOfContents":{"items":[{"url":"#ロータリエンコーダ付きステッピングモータをarduinoで制御して角度を取得する","title":"ロータリエンコーダ付きステッピングモータをArduinoで制御して角度を取得する","items":[{"url":"#機材","title":"機材"},{"url":"#ステッピングモータの制御","title":"ステッピングモータの制御","items":[{"url":"#配線","title":"配線"},{"url":"#ドライバ設定","title":"ドライバ設定"},{"url":"#制御コード","title":"制御コード"},{"url":"#実行コード","title":"実行コード"}]},{"url":"#ロータリエンコーダによる角度取得","title":"ロータリエンコーダによる角度取得","items":[{"url":"#配線-1","title":"配線"},{"url":"#計算コード","title":"計算コード"},{"url":"#実行コード-1","title":"実行コード"}]},{"url":"#ステッピングモータロータリエンコーダ","title":"ステッピングモータ+ロータリエンコーダ","items":[{"url":"#シリアル通信で送られてきたjsonをパースする","title":"シリアル通信で送られてきたJSONをパースする"},{"url":"#シリアル通信からステッピングモータ制御角度取得","title":"シリアル通信からステッピングモータ制御+角度取得"}]}]}]},"frontmatter":{"title":"ロータリエンコーダ付きステッピングモータをArduinoで制御して角度を取得する","date":"2020-10-06 07:00:00","updated":"2021-05-14 01:50:00","category":"Arduino","tags":["ステッピングモータ","ロータリエンコーダ","Arduino"]}}},"pageContext":{"id":"2fc1e085-9c4b-55aa-81a3-8ec49b66123f"}},
    "staticQueryHashes": []}